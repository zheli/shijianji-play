# --- !Ups

CREATE TABLE "USER" (
    "ID" BIGSERIAL PRIMARY KEY,
    "EMAIL" VARCHAR(255) NOT NULL
);

CREATE TABLE "LOGIN_INFO" (
    "ID" BIGSERIAL PRIMARY KEY,
    "PROVIDER_ID" VARCHAR(255) NOT NULL,
    "PROVIDER_KEY" VARCHAR(255) NOT NULL
);

CREATE TABLE "USER_LOGIN_INFO" (
    "USER_ID" BIGINT NOT NULL,
    "LOGIN_INFO_ID" BIGINT NOT NULL
);

CREATE TABLE "PASSWORD_INFO" (
    "HASHER" VARCHAR(255) NOT NULL,
    "PASSWORD" VARCHAR(255) NOT NULL,
    "SALT" VARCHAR(255),
    "LOGIN_INFO_ID" BIGINT NOT NULL
);

CREATE TABLE "BEARER_TOKEN_AUTHENTICATOR" (
    "AUTHENTICATOR_ID" VARCHAR(256) NOT NULL,
    "LOGIN_INFO_ID" BIGINT NOT NULL,
    "LAST_USED_DATETIME" VARCHAR(100) NOT NULL,
    "EXPIRATION_DATETIME" VARCHAR(100) NOT NULL,
    "IDLE_TIMEOUT" BIGINT
)

# --- !Downs

DROP TABLE IF EXISTS "USER";
DROP TABLE IF EXISTS "LOGIN_INFO";
DROP TABLE IF EXISTS "USER_LOGIN_INFO";
DROP TABLE IF EXISTS "PASSWORD_INFO";
DROP TABLE IF EXISTS "BEARER_TOKEN_AUTHENTICATOR";
